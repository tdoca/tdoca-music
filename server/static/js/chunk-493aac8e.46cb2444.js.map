{"version":3,"sources":["webpack:///./src/layout/player/views/search.vue?5a7c","webpack:///./src/components/music_list.vue?4d62","webpack:///src/components/music_list.vue","webpack:///./src/components/music_list.vue?d1e4","webpack:///./src/components/music_list.vue","webpack:///./src/layout/player/views/search.vue?4a91","webpack:///src/layout/player/views/search.vue","webpack:///./src/layout/player/views/search.vue?7ec1","webpack:///./src/layout/player/views/search.vue","webpack:///./src/components/music_list.vue?4bff"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","_v","_e","style","scroll","_l","musicItem","key","musicList","indexOf","staticClass","class","on","$event","handleMusicItemMouseMove","handleMusicItemMouseOut","_s","ref","refInFor","name","staticStyle","handlePlayButtonClick","handleAddButtonClick","handleDownloadButtonClick","artists","album","parseInt","duration","listView","handleRemoveButtonClick","directives","rawName","value","$store","state","app","expression","getters","songSheetItem","sid","handleSongSheetItemClick","title","getLoginStatus","staticRenderFns","data","menu_view","music_id","props","type","Array","default","required","Boolean","category","String","methods","$refs","index","display","control","remove","id","event","stopPropagation","menu_visibility","song_sheet_menu","top","clientY","left","alert","console","log","component","music_list","getSearchPage","handlePageButtonClick","max_page","song_count","components","created","getSearchKeywords","push","songs","i","page"],"mappings":"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","file":"js/chunk-493aac8e.46cb2444.js","sourcesContent":["export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./search.vue?vue&type=style&index=0&id=5b2f1860&lang=scss&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"music-list\"}},[(_vm.category)?_c('div',{attrs:{\"id\":\"list-category-container\"}},[_c('div',{attrs:{\"id\":\"category-number\"}},[_vm._v(\"序号\")]),_c('div',{attrs:{\"id\":\"category-name\"}},[_vm._v(\"音乐名称\")]),_c('div',{attrs:{\"id\":\"category-artists\"}},[_vm._v(\"歌手\")]),_c('div',{attrs:{\"id\":\"category-album\"}},[_vm._v(\"专辑\")]),_c('div',{attrs:{\"id\":\"category-duration\"}},[_vm._v(\"时长\")])]):_vm._e(),_c('div',{style:(_vm.scroll ? {'overflow': 'overlay'}:{'overflow':'hidden'}),attrs:{\"id\":\"music-item-container\"}},_vm._l((_vm.musicList),function(musicItem){return _c('div',{key:_vm.musicList.indexOf(musicItem),staticClass:\"music-item\",class:_vm.musicList.indexOf(musicItem)%2===0 ? 'even':'odd',on:{\"mousemove\":function($event){_vm.handleMusicItemMouseMove(_vm.musicList.indexOf(musicItem))},\"mouseout\":function($event){_vm.handleMusicItemMouseOut(_vm.musicList.indexOf(musicItem))}}},[_c('div',{staticClass:\"music-item-number\"},[_vm._v(_vm._s(_vm.musicList.indexOf(musicItem)))]),_c('div',{staticClass:\"music-item-name\"},[_c('span',{ref:\"name\",refInFor:true},[_vm._v(_vm._s(musicItem.name))]),_c('div',{ref:\"control\",refInFor:true,staticStyle:{\"display\":\"none\"}},[_c('i',{staticClass:\"iconfont icon-play\",on:{\"click\":function($event){return _vm.handlePlayButtonClick(musicItem)}}}),_c('i',{staticClass:\"iconfont icon-add\",on:{\"click\":function($event){return _vm.handleAddButtonClick(musicItem,$event)}}}),_c('i',{staticClass:\"iconfont icon-download\",on:{\"click\":function($event){return _vm.handleDownloadButtonClick(musicItem)}}})])]),_c('div',{staticClass:\"music-item-artists\"},[_c('router-link',{attrs:{\"to\":(\"browser-search/\" + (musicItem.artists.name||musicItem.artists[0].name))}},[_vm._v(_vm._s(musicItem.artists.name||musicItem.artists[0].name))])],1),_c('div',{staticClass:\"music-item-album\"},[_c('router-link',{attrs:{\"to\":(\"browser-search/\" + (musicItem.album.name))}},[_vm._v(_vm._s(musicItem.album.name))])],1),_c('div',{staticClass:\"music-item-duration\"},[_c('div',{ref:\"duration\",refInFor:true},[_vm._v(\" \"+_vm._s(((parseInt(musicItem.duration/60000)) + \":\" + (parseInt((musicItem.duration-parseInt(musicItem.duration/60000)*60000)/1000))))+\" \")]),(_vm.listView=='playList' || _vm.listView=='history')?_c('div',{ref:\"remove\",refInFor:true,staticStyle:{\"display\":\"none\"},on:{\"click\":function($event){return _vm.handleRemoveButtonClick(musicItem)}}},[_c('i',{staticClass:\"iconfont icon-ashbin\"})]):_vm._e()])])}),0),_c('transition',{attrs:{\"name\":\"menu_visibility\"}},[_c('ul',{directives:[{name:\"show\",rawName:\"v-show\",value:(this.$store.state.app.menu_visibility),expression:\"this.$store.state.app.menu_visibility\"}],ref:\"song_sheet_menu\",attrs:{\"id\":\"song_sheet_menu\"}},[_vm._l((this.$store.getters.getSongSheetList),function(songSheetItem){return _c('li',{key:songSheetItem.sid,on:{\"click\":function($event){return _vm.handleSongSheetItemClick(songSheetItem)}}},[_vm._v(\" \"+_vm._s(songSheetItem.title)+\" \")])}),(this.$store.getters.getLoginStatus == false)?_c('span',[_vm._v(\" 登录后添加到歌单 \")]):_vm._e()],2)])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div id=\"music-list\">\n    <div id=\"list-category-container\" v-if=\"category\">\n      <div id=\"category-number\">序号</div>\n      <div id=\"category-name\">音乐名称</div>\n      <div id=\"category-artists\">歌手</div>\n      <div id=\"category-album\">专辑</div>\n      <div id=\"category-duration\">时长</div>\n    </div>\n    <div id=\"music-item-container\" :style=\"scroll ? {'overflow': 'overlay'}:{'overflow':'hidden'}\">\n      <div class=\"music-item\" :class=\"musicList.indexOf(musicItem)%2===0 ? 'even':'odd'\" v-for=\"musicItem in musicList\" :key=\"musicList.indexOf(musicItem)\" @mousemove=\"handleMusicItemMouseMove(musicList.indexOf(musicItem))\" @mouseout=\"handleMusicItemMouseOut(musicList.indexOf(musicItem))\">\n        <div class=\"music-item-number\">{{musicList.indexOf(musicItem)}}</div>\n        <div class=\"music-item-name\">\n          <span ref=\"name\">{{musicItem.name}}</span>\n          <div ref=\"control\" style=\"display:none\">\n            <i class=\"iconfont icon-play\" @click=\"handlePlayButtonClick(musicItem)\"></i>\n            <i class=\"iconfont icon-add\" @click=\"handleAddButtonClick(musicItem,$event)\"></i>\n            <i class=\"iconfont icon-download\" @click=\"handleDownloadButtonClick(musicItem)\"></i>\n          </div>\n        </div>\n        <div class=\"music-item-artists\"><router-link :to=\"`browser-search/${musicItem.artists.name||musicItem.artists[0].name}`\">{{musicItem.artists.name||musicItem.artists[0].name}}</router-link></div>\n        <div class=\"music-item-album\"><router-link :to=\"`browser-search/${musicItem.album.name}`\">{{musicItem.album.name}}</router-link></div>\n        <div class=\"music-item-duration\">\n          <div ref=\"duration\">\n            {{`${parseInt(musicItem.duration/60000)}:${parseInt((musicItem.duration-parseInt(musicItem.duration/60000)*60000)/1000)}`}}\n          </div>\n          <div v-if=\"listView=='playList' || listView=='history'\" ref=\"remove\" style=\"display:none\" @click=\"handleRemoveButtonClick(musicItem)\">\n            <i class=\"iconfont icon-ashbin\"></i>\n          </div>\n        </div>\n      </div>\n    </div>\n    <transition name=\"menu_visibility\">\n      <ul id=\"song_sheet_menu\" v-show=\"this.$store.state.app.menu_visibility\" ref=\"song_sheet_menu\">\n        <li v-for=\"songSheetItem in this.$store.getters.getSongSheetList\" :key=\"songSheetItem.sid\" @click=\"handleSongSheetItemClick(songSheetItem)\">\n          {{songSheetItem.title}}\n        </li>\n        <span v-if=\"this.$store.getters.getLoginStatus == false\">\n          登录后添加到歌单\n        </span>\n      </ul>\n    </transition>\n  </div>\n</template>\n\n<script>\nimport { addMusicToSongSheet, getSongSheetByUid } from '@/libs/api'\nimport { mapActions, mapGetters, mapMutations } from 'vuex';\nexport default {\n  name: 'music-list',\n  data: function() {\n    return {\n      menu_view: 'play_list',\n      music_id: '',\n    }\n  },\n  props: {\n    musicList: {\n      type: Array,\n      default: null,\n      required: true,\n      // validator: function(value) {\n      //   return value.length !== 0\n      // }\n    },\n    scroll: {\n      type: Boolean,\n      default: false,\n      required: false\n    },\n    category: {\n      type: Boolean,\n      default: false,\n      required: false\n    },\n    listView: {\n      type: String,\n      required: true\n    }\n  },\n  methods: {\n    handlePlayButtonClick: async function(musicItem) {\n      console.log(musicItem.id)\n      let play_list = this.getPlayList()\n      let i = play_list.length-1\n      do {\n        if(play_list[i].id == musicItem.id) {\n          await this.musicInit(play_list[i]);\n          this.playMusic()\n          return\n        }\n        console.log(i)\n      }while(i--)\n        // this.addToPlayList(result)\n        // await this.$store.dispatch('musicListInit',play_list)\n        // console.log(play_list)\n      this.addMusicToPlayList(await this.musicInit(musicItem))\n      this.playMusic()\n        // console.log(result)\n    },\n    handleMusicItemMouseMove: function(index) {\n      switch(this.listView){\n        case 'playList':\n        case 'history':\n          this.$refs.name[index].style.display = 'none'\n          this.$refs.control[index].style.display = 'block'\n          this.$refs.duration[index].style.display = 'none'\n          this.$refs.remove[index].style.display = 'inline'\n          break\n        case 'musicList':\n          this.$refs.name[index].style.display = 'none'\n          this.$refs.control[index].style.display = 'block'\n      }\n    },\n    handleMusicItemMouseOut: function(index) {\n      switch(this.listView){\n        case 'playList':\n        case 'history':\n          this.$refs.name[index].style.display = 'block'\n          this.$refs.control[index].style.display = 'none'\n          this.$refs.duration[index].style.display = 'inline'\n          this.$refs.remove[index].style.display = 'none'\n          break\n        case 'musicList':\n          this.$refs.name[index].style.display = 'block'\n          this.$refs.control[index].style.display = 'none'\n      }\n    },\n    handleAddButtonClick: function(musicItem,event) {\n      this.music_id = musicItem.id\n      event.stopPropagation()\n      this.$store.state.app.menu_visibility = true\n      let song_sheet_menu = this.$refs['song_sheet_menu']\n      song_sheet_menu.style.top = event.clientY + 'px'\n      song_sheet_menu.style.left = 170 + 'px'\n      if(event.clientY>=450) {\n        song_sheet_menu.style.top = event.clientY - 200 + 'px'\n        song_sheet_menu.style.left = 170 + 'px'\n      }\n    },\n    handleSongSheetItemClick: function(songSheetItem) {\n      if(songSheetItem.songs.indexOf(this.music_id.toString()) == -1 ) {\n        addMusicToSongSheet({sid: songSheetItem.sid, mid: this.music_id}).then(()=>{\n          alert('添加成功')\n          getSongSheetByUid({uid: this.getUid()}).then(async res=>{\n            await this.updateSongSheetList(res.data)\n          })\n        })\n      }else {\n        alert('此歌单已存在这首歌')\n      }\n    },\n    handleRemoveButtonClick: async function(musicItem) {\n      switch(this.listView) {\n        case 'playList':\n          this.removeMusicOfList(this.musicList.indexOf(musicItem))\n          break\n        case 'history':\n          this.removeMusicOfHistoryList(musicItem)\n          break\n      }\n    },\n    handleDownloadButtonClick: function(musicItem) {\n      // downloadSource(musicItem.source).then(res=>{\n      //   console.log(res)\n      // })\n      console.log(musicItem)\n    },\n    ...mapMutations(['removeMusicOfList','updateSongSheetList']),\n    ...mapActions(['musicInit','playMusic','addMusicToPlayList','removeMusicOfHistoryList']),\n    ...mapGetters(['getNextMusic','getPlayList','getPlayItem','getUid'])\n  }\n};\n</script>\n\n<style lang=\"scss\" scoped>\n#music-list {\n  width: 100%;\n  height: 100%;\n  font-size: 15px;\n  #list-category-container {\n    display: flex;\n    align-items: center;\n    width: 100%;\n    height: 7%;\n    color: #fff;\n    #category-number {\n      width: calc(7% - 1vw);\n      padding-left: 1vw;\n    }\n    #category-name {\n      width: calc(34% - 1vw);\n      padding-left: 1vw;\n    }\n    #category-artists {\n      width: calc(15% - 1vw);\n      padding-left: 1vw;\n    }\n    #category-album {\n      width: calc(32% - 1vw);\n      padding-left: 1vw;\n    }\n    #category-duration {\n      width: calc(12% - 1vw);\n      padding-left: 1vw;\n    }\n  }\n  .odd {\n    background: #a3a1a105;\n  }\n  .even {\n    background: #c0c0c000;\n  }\n  #music-item-container{\n    height: 93%;\n    padding-right: 5px;\n    .music-item {\n      display: flex;\n      align-items: center;\n      width: 100%;\n      height: 10%;\n      .music-item-album, .music-item-artists, .music-item-duration, .music-item-number, .music-item-name{\n        overflow: hidden;\n        white-space: nowrap;\n        text-overflow: ellipsis;\n        color: #e1e1e1cc;\n      }\n      .music-item-number {\n        width: calc(7% - 2vw);\n        padding-left: 2vw;\n      }\n      .music-item-name {\n        width: calc(34% - 1vw);\n        padding-left: 1vw;\n        span {\n          cursor: pointer;\n        }\n        span:hover {\n          color: #ffffff;\n        }\n        div {\n          .icon-play,.icon-add,.icon-download {\n            font-size: 30px;\n            cursor: pointer;\n            margin-right: 5px;\n          }:hover {\n            color: #fff;\n          }\n        }\n      }\n      .music-item-artists {\n        width: calc(15% - 1vw);\n        padding-left: 1vw;\n        a {\n          color: #e1e1e1cc;\n        }:hover {\n          color: #ffffff\n        }\n      }\n      .music-item-album {\n        width: calc(32% - 1vw);\n        padding-left: 1vw;\n        a {\n          color: #e1e1e1cc;\n        }:hover {\n          color: #ffffff\n        }\n      }\n      .music-item-duration {\n        width: calc(12% - 2vw);\n        padding-left: 2vw;\n        .icon-ashbin {\n          font-size: 30px;\n          cursor: pointer;\n        }\n        div {\n          color: #e1e1e1cc;\n        }:hover {\n          color: #ffffff\n        }\n      }\n    }\n  }\n  #song_sheet_menu{\n    width: 150px;\n    height: 200px;\n    list-style: none;\n    position: absolute;\n    overflow-x: scroll;\n    box-shadow: 1px 1px 5px #888888;\n    background:#b4b4b4b6;\n    margin: 0;\n    padding: 0;\n    li{\n      // display: flex;\n      // align-items: center;\n      cursor:pointer;\n    }\n    li:hover{\n      background: #d6d6d6bd;\n    }\n  }\n}\n.right_bar_visibility-enter-active, .right_bar_visibility-leave-active {\n  transition: opacity .5s;\n}\n.right_bar_visibility-enter, .right_bar_visibility-leave-to /* .fade-leave-active below version 2.1.8 */ {\n  opacity: 0;\n}\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./music_list.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./music_list.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./music_list.vue?vue&type=template&id=fbcb6330&scoped=true&\"\nimport script from \"./music_list.vue?vue&type=script&lang=js&\"\nexport * from \"./music_list.vue?vue&type=script&lang=js&\"\nimport style0 from \"./music_list.vue?vue&type=style&index=0&id=fbcb6330&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"fbcb6330\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"search\"}},[_c('div',{attrs:{\"id\":\"result-container\"}},[_c('music-list',{attrs:{\"music-list\":this.music_list,\"listView\":'musicList',\"scroll\":true,\"category\":true}})],1),_c('div',{attrs:{\"id\":\"pages-container\"}},[(_vm.getSearchPage() != 1)?_c('div',{on:{\"click\":function($event){return _vm.handlePageButtonClick(0)}}},[_vm._v(\"1\")]):_vm._e(),(_vm.getSearchPage() != 1)?_c('div',{on:{\"click\":function($event){_vm.handlePageButtonClick((_vm.getSearchPage()-1)*30)}}},[_vm._v(\"上一页\")]):_vm._e(),_c('div',{on:{\"click\":function($event){_vm.handlePageButtonClick(_vm.getSearchPage()*30)}}},[_vm._v(_vm._s(_vm.getSearchPage()))]),(_vm.getSearchPage() != _vm.max_page)?_c('div',{on:{\"click\":function($event){_vm.handlePageButtonClick((_vm.getSearchPage()+1)*30)}}},[_vm._v(\"下一页\")]):_vm._e(),(_vm.getSearchPage() != _vm.max_page)?_c('div',{on:{\"click\":function($event){return _vm.handlePageButtonClick(_vm.max_page*30)}}},[_vm._v(_vm._s(this.max_page))]):_vm._e()])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div id=\"search\">\n    <div id=\"result-container\">\n      <music-list :music-list=\"this.music_list\" :listView=\"'musicList'\" :scroll=\"true\" :category=\"true\"></music-list>\n    </div>\n    <div id=\"pages-container\">\n        <div v-if=\"getSearchPage() != 1\" @click=\"handlePageButtonClick(0)\">1</div>\n        <div v-if=\"getSearchPage() != 1\" @click=\"handlePageButtonClick((getSearchPage()-1)*30)\">上一页</div>\n        <div @click=\"handlePageButtonClick(getSearchPage()*30)\">{{getSearchPage()}}</div>\n        <!-- <div v-if=\"search_page < end-4\">...</div> -->\n        <div v-if=\"getSearchPage() != max_page\" @click=\"handlePageButtonClick((getSearchPage()+1)*30)\">下一页</div>\n        <div v-if=\"getSearchPage() != max_page\" @click=\"handlePageButtonClick(max_page*30)\">{{this.max_page}}</div>\n      </div>\n  </div>\n</template>\n\n<script>\nimport {search} from '@/libs/api'\nimport Music from '@/libs/music'\nimport musicList from '@/components/music_list'\nimport { mapGetters, mapMutations } from 'vuex'\nexport default {\n  name: 'player-search',\n  data(){\n    return {\n      music_list: [],\n      song_count: null,\n      max_page: 0\n    }\n  },\n  components:{\n    musicList\n  },\n  created: function(){\n    console.log(this.$store.getters.getSearchKeywords)\n    if(this.$store.getters.getSearchKeywords != '') {\n      search({keywords: this.$store.getters.getSearchKeywords,offset:0}).then((res)=>{\n        let songs = res.data.body.result.songs\n        this.song_count = res.data.body.result.songCount\n        this.setSearchPage(1)\n        if(parseFloat(this.song_count & 30) != 0) {\n          this.max_page = parseInt(this.song_count / 30) + 1\n        }\n        let musicList = new Array()\n        for(let i=0, length=songs.length; i<length; i++) {\n          musicList.push(new Music({\n            id: songs[i].id,\n            name: songs[i].name,\n            duration: songs[i].duration,\n            album: songs[i].album,\n            artists: songs[i].artists\n          }))\n        }\n        this.music_list = musicList\n      })\n    }\n  },\n  methods:{\n    handlePageButtonClick: function(page) {\n      search({keywords: this.$store.getters.getSearchKeywords,offset:page}).then((res)=>{\n        let songs = res.data.body.result.songs\n        console.log(page)\n        if(page < this.max_page) {\n          console.log('max')\n          this.setSearchPage(page)\n        }else {\n          this.setSearchPage(this.max_page)\n        }\n        let musicList = new Array()\n        for(let i=0, length=songs.length; i<length; i++) {\n          musicList.push(new Music({\n            id: songs[i].id,\n            name: songs[i].name,\n            duration: songs[i].duration,\n            album: songs[i].album,\n            artists: songs[i].artists\n          }))\n        }\n        this.music_list = musicList\n      })\n    },\n    ...mapGetters([\n      'getSearchPage'\n    ]),\n    ...mapMutations([\n      'setSearchPage'\n    ])\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n#search {\n  width: 100%;\n  height: 100%;\n  #result-container {\n    width: 100%;\n    height: 90%;\n  }\n  #pages-container {\n    width: 100%;\n    height: 10%;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    div {\n      color: #e1e1e1cc;\n      cursor: pointer;\n      outline: none;\n      text-align: center;\n      background-color: #a3a1a105;\n      transition: all 0.2s;\n      font-size: 14px;\n      min-width: 15px;\n      margin: 0 2px;\n      padding: 0 10px;\n      height: 30px;\n      line-height: 30px;\n    }:hover {\n      color: #fff;\n      background-color: #b4b4b45c;\n    }\n  }\n}\n</style>","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./search.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./search.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./search.vue?vue&type=template&id=5b2f1860&scoped=true&\"\nimport script from \"./search.vue?vue&type=script&lang=js&\"\nexport * from \"./search.vue?vue&type=script&lang=js&\"\nimport style0 from \"./search.vue?vue&type=style&index=0&id=5b2f1860&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"5b2f1860\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./music_list.vue?vue&type=style&index=0&id=fbcb6330&lang=scss&scoped=true&\""],"sourceRoot":""}